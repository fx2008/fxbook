# **漏斗分析**

## **1. 什么是“漏斗模型”**

漏斗模型帮助你分析一个多步骤过程中每一步的转化与流失情况。

举例来说，用户购买商品的完整流程可能包含以下步骤：

1. 浏览商品
2. 将商品添加进购物车
3. 结算购物车中的商品
4. 选择送货地址、支付方式
5. 点击付款
6. 完成付款

你可以将如上流程设置为一个漏斗，分析整体的转化情况，以及每一步具体的转化率和转化中位时间。同时也可以借助强大的筛选和分组功能进行深度分析。

## **2. 漏斗界面功能简介**

### **2.1.创建漏斗**

点击界面右侧顶部的“创建漏斗”按钮，会滑出“创建漏斗”面板。





#### **a.漏斗名称**

必填项。给你的漏斗取一个具有代表性的友好名称。同一项目内，漏斗不可重名。你创建的漏斗对同一项目中的其他用户也可见。

#### **b.漏斗窗口期**

如“漏斗完成有时间限制吗”中所解释的。你需要在这里根据漏斗的性质选择合理的有效期。默认漏斗有效期为30天。1.4 及以后的版本中，除了下拉框中提供的有限选项以外，窗口期也可以由使用者自定义，最短 1 分钟，最长 3650 天。

#### **c.漏斗步骤**

一个漏斗中至少包含2个步骤，每个步骤对应一个事件（可附带一个或多个筛选条件）。

> 举例来说，某个步骤可以是触发“注册”且“使用了邀请码”。或者，“购买”且“品类”等于“女装”等。

拖动步骤前的序号可以改变步骤顺序。

1.4 及以后的版本，支持给漏斗步骤增加别名，在显示时更加方便易读。

#### **d. 增加步骤**

给漏斗增加更多步骤。

#### **e. 保存漏斗**

点击该按钮，保存新漏斗。

### **2.2 分析漏斗**



#### **a. 切换漏斗，按分组查看，筛选**

在这个区域，你可以切换需要展示的漏斗数据，或者对现有漏斗查询进行分组和筛选。



如果这里选择的属性是数字类型，可以自定义分组区间。如果没有设置，查询引擎会动态计算分组区间。此设置仅在当前查询生效，将查询保存为书签后在书签中也生效。

#### **b. 选择查询的时间范围，展示漏斗图表**

在这个区域，你可以切换查询的时间范围，并查看相应的漏斗图形，直观地感受每个步骤的转化情况。

#### **c. 查看漏斗总览，或每个步骤的转化详情**

当选择“总览”时，表格中的数据代表每个步骤的转化人数，和相对上一个步骤的转化率。

当选择某个具体步骤时，可以查看两个步骤之间的流失用户数、转化用户数、转化时间中位数和转化率。

#### **d. 浏览用户详情**

表格的单元格内的对应数字是可以点击的，点击则会浏览这些用户的用户列表，并进一步浏览其中某个特定用户的用户行为序列。

#### **e. 分析某个特定的步骤**

点击某个步骤对应的箭头，可以详细浏览这个步骤的转化情况，可以看到流失用户和转化用户的数量，并且点击可以进一步浏览这些用户的列表以及行为序列，也可以看到转化时间的中位数，用以描述这个转化是否迅速。



### **2.3 修改、删除漏斗**

点击漏斗下拉列表中的“铅笔”图标，可以在滑出的“编辑漏斗”面板中编辑该漏斗。



点击左下角的“删除漏斗”按钮，可以删除当前漏斗。



## **3. 漏斗是如何计算的**

在这个文档里面，我们将会详细描述漏斗分析的计算规则，特别是在有筛选和分组情况下的计算规则，以便使用者更好地解读漏斗分析的结果。同时，我们也会针对一些常见的分析场景，给出漏斗分析的使用案例，帮助使用者更好地使用这一功能。

在介绍漏斗分析的计算规则之前，需要有一些基本概念进行介绍：

1. 步骤：由一个 元事件\/虚拟事件 加一个或者多个筛选条件组成，表示一个转化流程中的一个关键性的步骤；
2. 时间范围：在界面上选择的时间范围，是指漏斗的第一个步骤发生的时间范围；
3. 窗口期：用户完成漏斗的时间限制，也即只有在这个时间范围内，用户从第一个步骤，行进到最后一个步骤，才能被视为一次成功的转化；

### **3.1 基本计算规则**

假设一个漏斗中包含了 A、B、C、D、E 五个步骤，选择的时间范围是2015年1月1日到2015年1月3日，窗口期是1天，那么，如果用户在2015年1月1日到2015年1月3日触发了步骤A，并且在步骤A发生的1天内，依顺序依次出发了B、C、D、E，则视作该用户完成了一次**成功的漏斗转化**。

在这个过程中，如果穿插了一些其它的步骤或者行为，例如在满足时间限制的情况下，用户的行为顺序是A&gt;X&gt;B&gt;X&gt;C&gt;D&gt;X&gt;E，X代表任意一个事件，则该用户依然视作完成了一次**成功的漏斗转化**。

如果该用户在这个事件限制范围内，依次触发了 A&gt;B&gt;C&gt;E，则该用户**没有完成该漏斗的转化**，并且会被记作**步骤C的流失用户**。

### **3.2 漏斗中展示的数字代表什么**

漏斗分析中展示的数字代表转化\/流失的独立用户数，而非触发的事件次数。在该时间范围内，即使一个用户多次完成漏斗，也仅计数一次。

### **3.3 筛选条件的含义**

和其它分析功能一样，漏斗分析也提供了筛选功能，需要特别强调的是，漏斗分析的筛选，都是对_**完成转化\/确认流失**_的用户，再进行二次挑选。

漏斗分析的筛选，包括三种不同的筛选类型，我们以一个有三个步骤A、B、C，时间范围是2015年1月1日到1月8日，窗口期为3天的漏斗来分别进行更加详细的说明：

1. 用户Profile上的筛选：这个筛选类型比较好理解，是在_**完成转化\/确认流失**_的用户的基础上，根据这个用户的Profile，再来进行更进一步的筛选。例如，我们添加的筛选条件是“性别”为“男”，则只有Profile中“性别”为“男”的用户，才满足这个筛选条件，并且出现在筛选后的漏斗分析结果中；
2. 预置属性的筛选：目前在漏斗的筛选中，预置属性是与事件无关并单独列出来的，假设，我们选择了一个筛选条件是预置属性“省份”为“湖北”，这个筛选表示，在_**完成转化\/确认流失**_的用户中，找到那些在1月1日到1月11日（时间范围加上窗口期的结果）这个时间范围内，A、B、C三个步骤中任意一个第一次触发时，“省份”的值为“湖北”的那些用户；下面是几个具体的例子： 1. 某个用户在这个时间段内的行为序列是D、B、C、A、E、A、F、B、C，这个用户是满足漏斗的转化的，而由于他的行为序列中，A、B、C三个事件中第一次出现的是B，并且这个B的“省份”值为“北京”，所以这个用户虽然满足漏斗的转化条件但是却不满足这个筛选条件，不会出现在任何统计结果中； 2. 某个用户在这个时间段内的行为序列是A、E、A、F、B、D，这个用户不满足漏斗的转化的条件，被记作在B这一步流失，而由于他的行为序列中，A、B、C三个事件中第一次出现的是A，并且这个B的“省份”值为“湖北”，所以这个用户满足了筛选条件，会被记作在B这一步流失；

3. 非预置属性的筛选：在漏斗筛选中，非预置属性与预置属性最大的区别就是与事件相关，假设，我们选择了一个筛选条件是事件C的属性“支付方式”为“支付宝”，这个筛选表示，在_**完成转化\/确认流失**_的用户中，找到那些在1月1日到1月11日（时间范围加上窗口期的结果）这个时间范围内，C这个步骤第一次触发时，“支付方式”的值为“支付宝”的那些用户；下面是几个具体的例子： 1. 某个用户在这个时间段内的行为序列是D、B、C、A、E、A、F、B、C，这个用户是满足漏斗的转化的，而在他的行为序列中，第一次出现的C的“支付方式”值为“微信支付”，第二次出现的C的“支付方式”值是“支付宝”，所以这个用户虽然满足漏斗的转化条件但是却不满足这个筛选条件，不会出现在任何统计结果中； 2. 某个用户在这个时间段内的行为序列是D、C、A、E、A、F，这个用户是不满足漏斗的转化并且在A这一步之后流失的，而在他的行为序列中，第一次出现的C的“支付方式”值为“支付宝”，所以这个用户满足了筛选条件，会被记作在A这一步后流失。


### **3.4 分组的含义**

和其它分析功能一样，漏斗分析也提供了分组功能，需要特别强调的是，漏斗分析的分组，都是对_**完成转化\/确认流失**_的用户的集合上进行分组。

漏斗分析的分组，包括三种不同的分组类型，我们以一个有三个步骤A、B、C，时间范围是2015年1月1日到1月8日，窗口期为3天的漏斗来分别进行更加详细的说明：

1. 用户Profile上的分组：这个分组比较好理解，是在_**完成转化\/确认流失**_的用户的集合，根据这个用户的Profile，在来进行更进一步的分组。例如，我们添加的分组条件是“性别”，那么，就会分别对漏斗分析的结果按照“男”、“女”来进行分组；
2. 预置属性的分组：目前在漏斗的分组中，预置属性是与事件无关并单独列出来的；例如，我们选择的分组设置是预置属性“省份”，则这个分组表示，在_**完成转化\/确认流失**_的用户中，根据他们在1月1日到1月11日（时间范围加上窗口期的结果）这个时间范围内，A、B、C三个步骤中任意一个第一次触发时，“省份”这个属性的值来对他们进行分组；下面是几个具体的例子的描述： 1. 某个用户在这个时间段内的行为序列是D、B、C、A、E、A、F、B、C，这个用户是满足漏斗的转化的，而由于他的行为序列中，A、B、C三个事件中第一次出现的是B，并且这个B的“省份”值为“北京”，所以这个用户会被划分到“北京”这个分组的统计结果中，并被算作转化； 2. 某个用户在这个时间段内的行为序列是A、E、A、F、B、D，这个用户不满足漏斗的转化的条件，被记作在B这一步流失，而由于他的行为序列中，A、B、C三个事件中第一次出现的是A，并且这个A的“省份”值为“湖北”，所以这个用户会被划分到“湖北”这个分组的统计结果中，并被记作在B这一步流失；

3. 非预置属性的分组：在漏斗分组中，非预置属性与预置属性最大的区别就是与事件相关；例如，我们添加的分组条件是事件C的属性“支付方式”，这个分组就表示，在_**完成转化\/确认流失**_的用户中，根据他们在1月1日到1月11日（时间范围加上窗口期的结果）这个时间范围内，C这个步骤第一次触发时，“支付方式”的值来对他们进行分组；下面是几个具体的例子的描述： 1. 某个用户在这个时间段内的行为序列是D、B、C、A、E、A、F、B、C，这个用户是满足漏斗的转化的，而在他的行为序列中，第一次出现的C的“支付方式”值为“微信支付”，第二次出现的C的“支付方式”值是“支付宝”，所以这个用户将会被划分到“微信支付”这个分组中，并被统计为成功转化； 2. 某个用户在这个时间段内的行为序列是D、C、A、E、A、F，这个用户是满足漏斗的转化的，而在他的行为序列中，第一次出现的C的“支付方式”值为“支付宝”，所以这个用户会被划分到“支付宝”这个分组中，并被记作在A这一步后流失。


## **4. 典型使用场景**

以电商为例，一个典型的用户购买行为可以由以下几个连续的事件构成：浏览首页、浏览商品、提交订单、支付订单。那么，当我们想要针对购买这个过程进行转化分析，就可以按如下步骤进行创建：

### **步骤1：若想分析广东省地区的用户购买行为，首先点击“创建漏斗”按钮，并将漏斗名称命名为“电商转化漏斗”。**



### **步骤2：在下拉表单中，依序创建想要分析的购买步骤。在创建漏斗的第一个步骤时，将事件点选为“浏览首页”**



### **步骤3：点击“触发限制条件”按钮，在下拉选单中选择“省份”等于“广东省”；**



### **步骤4：接下来，后续的每一个步骤都依照如此的方式执行。**

第二个步骤：将事件点选为“浏览商品”； 第三个步骤：将事件点选为“提交订单”； 第四个步骤：将事件点选为“支付订单”。

那么，这个漏斗的分析结果就可以解决使用者对于电商用户连续性行为的转化分析需求。



### **结果**

到此，用户就可以在此漏斗转化页面进一步查看和分析整体和各步骤间的转化和流失效果。

